/*!
 * jquery.spinner v0.2.1 (https://vsn4ik.github.io/jquery.spinner/)
 * Copyright 2013-2017 xixilive
 * Licensed under the MIT license
 */

"use strict";!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){var i,t,e=function(i,t){return this.$el=i,this.options=n.extend({},e.rules.defaults,e.rules[t.rule]||{},t),this.min=Number(this.options.min)||0,this.max=Number(this.options.max)||0,this.$el.on({"focus.spinner":n.proxy(function(i){i.preventDefault(),n(document).trigger("mouseup.spinner"),this.oldValue=this.value()},this),"change.spinner":n.proxy(function(n){n.preventDefault(),this.value(this.$el.val())},this),"keydown.spinner":n.proxy(function(n){var i={38:"up",40:"down"}[n.which];i&&(n.preventDefault(),this.spin(i))},this)}),this.oldValue=this.value(),this.value(this.$el.val()),this};e.rules={defaults:{min:null,max:null,step:1,precision:0},currency:{min:0,max:null,step:.01,precision:2},quantity:{min:1,max:999,step:1,precision:0},percent:{min:1,max:100,step:1,precision:0},month:{min:1,max:12,step:1,precision:0},day:{min:1,max:31,step:1,precision:0},hour:{min:0,max:23,step:1,precision:0},minute:{min:1,max:59,step:1,precision:0},second:{min:1,max:59,step:1,precision:0}},e.prototype={spin:function(i){if(!this.$el.prop("disabled")){this.oldValue=this.value();var t=n.isFunction(this.options.step)?this.options.step.call(this,i):this.options.step,e="up"===i?1:-1;this.value(this.oldValue+Number(t)*e)}},value:function(e){if(null===e||void 0===e)return this.numeric(this.$el.val());e=this.numeric(e);var s=this.validate(e);0!==s&&(e=-1===s?this.min:this.max),this.$el.val(e.toFixed(this.options.precision)),this.oldValue!==this.value()&&(this.$el.trigger("changing.spinner",[this.value(),this.oldValue]),clearTimeout(i),i=setTimeout(n.proxy(function(){this.$el.trigger("changed.spinner",[this.value(),this.oldValue])},this),t.delay))},numeric:function(n){return n=this.options.precision>0?parseFloat(n,10):parseInt(n,10),isFinite(n)?n:n||this.options.min||0},validate:function(n){return null!==this.options.min&&n<this.min?-1:null!==this.options.max&&n>this.max?1:0}},(t=function(i,t){this.$el=n(i),this.$spinning=this.$el.find('[data-spin="spinner"]'),0===this.$spinning.length&&(this.$spinning=this.$el.find(':input[type="text"]')),t=n.extend({},t,this.$spinning.data()),this.spinning=new e(this.$spinning,t),this.$el.on("click.spinner",'[data-spin="up"], [data-spin="down"]',n.proxy(this,"spin")).on("mousedown.spinner",'[data-spin="up"], [data-spin="down"]',n.proxy(this,"spin")),n(document).on("mouseup.spinner",n.proxy(function(){clearTimeout(this.spinTimeout),clearInterval(this.spinInterval)},this)),t.delay&&this.delay(t.delay),t.changed&&this.changed(t.changed),t.changing&&this.changing(t.changing)}).delay=500,t.prototype={constructor:t,spin:function(i){var t=n(i.currentTarget).data("spin");switch(i.type){case"click":i.preventDefault(),this.spinning.spin(t);break;case"mousedown":1===i.which&&(this.spinTimeout=setTimeout(n.proxy(this,"beginSpin",t),300))}},delay:function(n){var i=Number(n);i>=0&&(this.constructor.delay=i+100)},value:function(){return this.spinning.value()},changed:function(n){this.bindHandler("changed.spinner",n)},changing:function(n){this.bindHandler("changing.spinner",n)},bindHandler:function(i,t){n.isFunction(t)?this.$spinning.on(i,t):this.$spinning.off(i)},beginSpin:function(i){this.spinInterval=setInterval(n.proxy(this.spinning,"spin",i),100)}};var s=n.fn.spinner;return n.fn.spinner=function(i,e){return this.each(function(){var s=n.data(this,"spinner");s||(s=new t(this,i),n.data(this,"spinner",s)),"delay"===i||"changed"===i||"changing"===i?s[i](e):"step"===i&&e?s.spinning.step=e:"spin"===i&&e&&s.spinning.spin(e)})},n.fn.spinner.Constructor=t,n.fn.spinner.noConflict=function(){return n.fn.spinner=s,this},n(function(){n('[data-trigger="spinner"]').spinner()}),n.fn.spinner});